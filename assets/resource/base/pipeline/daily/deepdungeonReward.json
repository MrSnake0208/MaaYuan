{
  "地宫奖励启动": {
    "recognition": {
      "type": "DirectHit",
      "param": {}
    },
    "action": {
      "type": "DoNothing",
      "param": {}
    },
    "focus": "开始领取地宫奖励",
    "next": ["进入秘宝兑换", "[JumpBack]进入界面-地宫"]
  },
  "进入秘宝兑换": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "秘宝",
        "roi": [561, 162, 127, 58]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 1000,
    "next": ["进入地宫任务1", "秘宝一键领取"]
  },
  "秘宝一键领取": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "领取",
        "roi": [283, 1181, 156, 67]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "focus": "一键领取秘宝奖励",
    "next": ["[JumpBack]sub_开出心纸君电话", "确认领取秘宝"]
  },
  "确认领取秘宝": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": "common_reward.png",
        "roi": [5, 3, 713, 526],
        "threshold": 0.5,
        "green_mask": true
      }
    },
    "action": {
      "type": "Click",
      "param": {
        "target": [633, 22, 19, 11]
      }
    },
    "timeout": 4000,
    "next": ["[JumpBack]sub_开出心纸君电话"],
    "on_error": ["stop"]
  },
  "进入地宫任务1": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "任务",
        "roi": [297, 119, 117, 66]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "post_delay": 2000,
    "next": [
      "地宫一键领取1",
      "雀部解密启动",
      "stop",
      "[JumpBack]退出各类popups"
    ]
  },
  "地宫一键领取1": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "领取",
        "roi": [283, 1181, 156, 67]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "focus": "一键领取地宫奖励",
    "next": ["雀部解密启动", "秘宝一键领取"]
  },
  "雀部解密启动": {
    "recognition": {
      "type": "DirectHit",
      "param": {}
    },
    "action": {
      "type": "DoNothing",
      "param": {}
    },
    "enabled": true,
    "focus": "开始自动雀部解密",
    "timeout": 4000,
    "next": ["查找解密任务1", "查找解密任务2", "查找解密任务3"],
    "on_error": ["stop"]
  },
  "查找解密任务1": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "雀部解密",
        "roi": [214, 760, 174, 66]
      }
    },
    "action": {
      "type": "DoNothing",
      "param": {}
    },
    "timeout": 2000,
    "next": ["雀部解密前往1"],
    "on_error": ["stop"]
  },
  "查找解密任务2": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "雀部解密",
        "roi": [209, 905, 183, 65]
      }
    },
    "action": {
      "type": "DoNothing",
      "param": {}
    },
    "timeout": 2000,
    "next": ["雀部解密前往2"],
    "on_error": ["stop"]
  },
  "查找解密任务3": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "雀部解密",
        "roi": [210, 1051, 174, 63]
      }
    },
    "action": {
      "type": "DoNothing",
      "param": {}
    },
    "timeout": 2000,
    "next": ["雀部解密前往3"],
    "on_error": ["stop"]
  },
  "雀部解密前往1": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "前往",
        "roi": [547, 796, 100, 52]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "next": ["阴文解密1"]
  },
  "雀部解密前往2": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "前往",
        "roi": [552, 939, 85, 45]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "next": ["阴文解密1"]
  },
  "雀部解密前往3": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "前往",
        "roi": [550, 1085, 95, 39]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "next": ["阴文解密1"]
  },
  "解密页面确认": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "解密",
        "roi": [159, 1194, 256, 77]
      }
    },
    "next": [
      "选择往期阴文_OCR",
      "选择往期阴文_TM",
      "选择限定阴文_OCR",
      "选择限定阴文_TM",
      "选择常驻阴文_OCR",
      "选择常驻阴文_TM"
    ]
  },
  "选择往期阴文_OCR": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["往期", "往", "情报", "期"],
        "roi": [0, 354, 107, 121]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "next": ["阴文解密1"]
  },
  "选择往期阴文_TM": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["deepdungeon/往期情报1.png", "deepdungeon/往期情报2.png"],
        "roi": [0, 354, 107, 121]
      }
    },
    "action": {
      "type": "Click",
      "param": { "target_offset": [15, 15, -25, -30] }
    },
    "next": ["阴文解密1"]
  },
  "选择限定阴文_OCR": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["限定", "限", "情报", "定"],
        "roi": [0, 253, 107, 122]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "next": ["阴文解密1"]
  },
  "选择限定阴文_TM": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["deepdungeon/限定情报1.png", "deepdungeon/限定情报2.png"],
        "roi": [0, 253, 107, 122]
      }
    },
    "action": {
      "type": "Click",
      "param": { "target_offset": [11, 12, -20, -20] }
    },
    "next": ["阴文解密1"]
  },
  "选择常驻阴文_OCR": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["常驻", "常", "情报", "驻"],
        "roi": [0, 148, 108, 123]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "timeout": 5000,
    "next": ["阴文翻到最前面"]
  },
  "选择常驻阴文_TM": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["deepdungeon/常驻情报1.png", "deepdungeon/常驻情报2.png"],
        "roi": [0, 147, 107, 123]
      }
    },
    "action": {
      "type": "Click",
      "param": { "target_offset": [11, 12, -20, -20] }
    },
    "next": ["阴文翻到最前面"]
  },
  "阴文翻到最前面": {
    "action": {
      "type": "Swipe",
      "param": {
        "begin": [346, 1064, 1, 1],
        "end": [635, 1064, 1, 1],
        "duration": 600,
        "end_hold": 300
      }
    },
    "repeat": 5,
    "repeat_delay": 500,
    "next": ["寻找常驻阴文", "[JumpBack]向右找找阴文"]
  },
  "寻找常驻阴文": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["^[1-9]|[1-9][0-9]$", "^[1-9][0-9][0-9]$"],
        "roi": [77, 1063, 633, 53]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "next": ["阴文解密1"]
  },
  "向右找找阴文": {
    "action": {
      "type": "Swipe",
      "param": {
        "begin": [635, 1064, 1, 1],
        "end": [346, 1064, 1, 1],
        "duration": 600,
        "end_hold": 300
      }
    },
    "post_delay": 1000,
    "max_hit": 4
  },
  "阴文解密1": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "解密",
        "roi": [159, 1194, 256, 77]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "post_delay": 5000,
    "focus": "第一次解密",
    "next": [
      "阴文不足",
      "阴符不足",
      "[JumpBack]sub_开出心纸君电话",
      "阴文解密2",
      "[JumpBack]退出各类popups"
    ]
  },
  "sub_开出心纸君电话": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "拒绝",
        "roi": [92, 589, 99, 56]
      }
    },
    "action": {
      "type": "Click",
      "param": {
        "target": [103, 494, 70, 66]
      }
    },
    "pre_delay": 500,
    "post_delay": 5000,
    "focus": "开出心纸君电话"
  },
  "阴文不足": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "拥有",
        "roi": [75, 331, 182, 290]
      }
    },
    "action": {
      "type": "Click",
      "param": {
        "target": [6, 8, 123, 112]
      }
    },
    "pre_delay": 500,
    "focus": "检测到阴文不足，行动中止！",
    "next": ["进入地宫任务2", "[JumpBack]退出各类popups"]
  },
  "阴符不足": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "购买",
        "roi": [452, 657, 112, 67]
      }
    },
    "action": {
      "type": "DoNothing",
      "param": {}
    },
    "focus": "检测到阴符不足，行动中止！",
    "next": ["进入地宫任务2", "[JumpBack]退出各类popups"]
  },
  "阴文解密2": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "解密",
        "roi": [159, 1194, 256, 77]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "focus": "第二次解密",
    "next": [
      "阴文不足",
      "阴符不足",
      "[JumpBack]sub_开出心纸君电话",
      "进入地宫任务2",
      "[JumpBack]退出各类popups"
    ]
  },
  "进入地宫任务2": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "任务",
        "roi": [297, 119, 117, 66]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "next": ["地宫一键领取2", "切换到秘宝标签页", "stop"]
  },
  "地宫一键领取2": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "领取",
        "roi": [283, 1181, 156, 67]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "timeout": 2000,
    "next": ["切换到秘宝标签页"],
    "on_error": ["stop"]
  },
  "切换到秘宝标签页": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": "秘宝",
        "roi": [114, 120, 96, 67]
      }
    },
    "action": {
      "type": "Click",
      "param": {}
    },
    "pre_delay": 500,
    "post_delay": 1000,
    "timeout": 3000,
    "next": ["秘宝一键领取"],
    "on_error": ["stop"]
  }
}
