{
  "回收菌子": {
    "enabled": false,
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["nanyang/shop.png"],
        "roi": [576, 1149, 130, 91]
      }
    },
    "action": {
      "type": "Click"
    },
    "post_delay": 2000,
    "next": ["南阳-切换到回收页", "南阳-网络错误"]
  },
  "南阳-切换到回收页": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["回收"],
        "roi": [533, 382, 74, 59]
      }
    },
    "pre_delay": 500,
    "action": {
      "type": "Click"
    },
    "post_delay": 2000,
    "next": ["南阳-选择要回收的菌子", "南阳-网络错误"]
  },
  "南阳-选择要回收的菌子": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["回收"],
        "roi": [298, 1054, 127, 65]
      }
    },
    "pre_delay": 500,
    "action": {
      "type": "Custom",
      "param": {
        "custom_action": "NanyangSell"
      }
    },
    "next": ["南阳-点击回收键", "南阳-网络错误"]
  },
  "南阳-点击回收键": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["回收"],
        "roi": [298, 1054, 127, 65]
      }
    },
    "pre_delay": 500,
    "action": {
      "type": "Click"
    },
    "post_delay": 2000,
    "next": ["[JumpBack]南阳-回收确认弹窗", "南阳-确认回收奖励", "南阳-网络错误"],
    "on_error": ["南阳-无回收"],
    "timeout": 15000
  },
  "南阳-无回收": {
    "focus": "没有回收菌子，尝试购买营养剂",
    "next": ["南阳-自动购买营养剂"]
  },
  "南阳-回收确认弹窗": {
    "recognition": {
      "type": "OCR",
      "param": {
        "expected": ["定"],
        "roi": [424, 724, 177, 86]
      }
    },
    "pre_delay": 500,
    "action": {
      "type": "Click"
    },
    "post_delay": 4000
  },
  "南阳-确认回收奖励": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["common_reward.png"],
        "green_mask": true,
        "threshold": 0.5,
        "roi": [21, 37, 678, 651]
      }
    },
    "pre_delay": 500,
    "action": {
      "type": "Custom",
      "param": {
        "custom_action": "OcrReport",
        "custom_action_param": {
          "recognition": "南阳-看看卖了多少钱",
          "format": "本次售出菌子后获得了 {result} 蘑菇力",
          "export": true,
          "filename": "NanyangReport"
        }
      }
    },
    "next": ["南阳-退出回收奖励", "南阳-网络错误"]
  },
  "南阳-退出回收奖励": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["common_reward.png"],
        "green_mask": true,
        "threshold": 0.5,
        "roi": [21, 37, 678, 651]
      }
    },
    "action": {
      "type": "Click",
      "param": {
        "target": [533, 23, 20, 5]
      }
    },
    "post_delay": 2000,
    "next": ["南阳-自动购买营养剂", "南阳-网络错误"],
    "on_error": ["南阳-退出回收奖励"],
    "timeout": 15000
  },
  "南阳-看看卖了多少钱": {
    "recognition": {
      "type": "Custom",
      "param": {
        "custom_recognition": "ColorOCRWithFallback",
        "custom_recognition_param": {
          "target_color": [206, 205, 202],
          "tolerance": 55,
          "recognition": "南阳-收获价格识别"
        }
      }
    }
  },
  "南阳-收获价格识别": {
    "recognition": {
      "type": "OCR",
      "param": {
        "model": "en",
        "only_rec": true,
        "roi": [367, 624, 58, 44]
      }
    }
  },
  "南阳-下滑到回收底端": {
    "action": {
      "type": "Swipe",
      "param": {
        "begin": [151, 770, 1, 1],
        "end": [152, 244, 1, 1],
        "duration": 500
      }
    },
    "repeat": 20,
    "repeat_delay": 500,
    "post_delay": 2000
  },
  "南阳-准备向上寻找要卖的菌": {
    "action": {
      "type": "Swipe",
      "param": {
        "begin": [148, 490, 1, 1],
        "end": [148, 540, 1, 1],
        "duration": 500,
        "end_hold": 200
      }
    },
    "post_delay": 1000
  },
  "南阳-向上寻找要卖的菌": {
    "action": {
      "type": "Swipe",
      "param": {
        "begin": [174, 500, 1, 1],
        "end": [172, 885, 1, 1],
        "duration": 500,
        "end_hold": 500
      }
    },
    "post_delay": 1000
  },
  "南阳-找到要卖的菌": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["nanyang/forsell1.png"],
        "roi": [71, 443, 574, 394],
        "method": 5,
        "threshold": 0.65,
        "order_by": "Score"
      }
    }
  },
  "南阳-检查菌的价格ColorOCR": {
    "recognition": {
      "type": "Custom",
      "param": {
        "custom_recognition": "ColorOCRWithFallback",
        "custom_recognition_param": {
          "target_color": [99, 55, 25],
          "tolerance": 150,
          "recognition": "南阳-检测菌的价格"
        }
      }
    }
  },
  "南阳-检测菌的价格": {
    "recognition": {
      "type": "OCR",
      "param": {
        "model": "en",
        "only_rec": true,
        "replace": [
          ["©", "1"],
          ["\\?", "1"]
        ]
      }
    }
  },
  "南阳-设置最大卖出数量": {
    "recognition": {
      "type": "TemplateMatch",
      "param": {
        "template": ["nanyang/cansell.png"]
      }
    },
    "action": {
      "type": "Click",
      "param": {
        "target": [519, 847, 45, 30]
      }
    },
    "repeat": 15,
    "repeat_delay": 200
  }
}
